---
import BaseLayout from "../../../../layouts/BaseLayout.astro";

const title = "Joystick-Controlled Rain Animation (8×8 LED Matrix)";
const subtitle =
  "An interactive LED animation where joystick input changes the fall direction (“gravity”) in real time.";

const overview = {
  goal:
    "Build a responsive, interactive LED display that feels intuitive to control.",
  built:
    "A rain animation on an 8×8 LED matrix. The joystick changes the fall direction; new raindrops spawn on the opposite edge to keep the motion continuous.",
  role:
    "Team project. I focused on hardware integration (wiring the LED matrix + joystick, confirming pin mapping, troubleshooting display issues) and helped tune the update loop and input stability.",
  tech:
    "Arduino (C/C++), LED matrix row-scanning (multiplexing), analog joystick input + deadzone, randomness, fixed-timestep state updates.",
};

const howItWorks = [
  "Represent the display as an 8×8 buffer (grid state).",
  "On a fixed timestep, shift the pattern one cell in the current fall direction to simulate “gravity.”",
  "Spawn raindrops along the edge opposite the movement direction to keep the animation populated.",
  "Convert joystick analog values into UP/DOWN/LEFT/RIGHT, using a deadzone to avoid jitter near center.",
  "Direction can change while raindrops are falling, so the flow responds immediately.",
];

const highlights = [
  "Deadzone + thresholds for stable, pleasant control.",
  "Randomized raindrop spawning to avoid repetitive patterns.",
  "Efficient row-scanning (multiplexing) to drive the 8×8 matrix cleanly.",
];

const results = [
  "Joystick direction switches the fall direction quickly and predictably.",
  "Raindrops loop across edges so the animation stays lively and continuous.",
];

const assets = {
  photo: "projects/rain-joystick/project.jpg",
};
---

<BaseLayout title={`${title} | Cooper Lender`} lang="en">
  <a href="../../" class="muted">← Back</a>

  <h1>{title}</h1>
  <p class="muted">{subtitle}</p>

  <div class="card">
    <h2>Overview</h2>
    <ul>
      <li><strong>Goal:</strong> {overview.goal}</li>
      <li><strong>Built:</strong> {overview.built}</li>
      <li><strong>My role:</strong> {overview.role}</li>
      <li><strong>Tech:</strong> {overview.tech}</li>
    </ul>
  </div>

  <div class="card">
    <h2>How it works</h2>
    <ul>
      {howItWorks.map((x) => <li>{x}</li>)}
    </ul>
  </div>

  <div class="card">
    <h2>Highlights</h2>
    <ul>
      {highlights.map((x) => <li>{x}</li>)}
    </ul>

    <div class="muted" style="margin-top: 10px;">Project photo:</div>
    <img
      src={`${import.meta.env.BASE_URL}${assets.photo}`}
      alt="Joystick-controlled rain animation on an 8×8 LED matrix"
      loading="lazy"
      style="width:100%; border-radius:12px; margin-top:10px;"
    />
  </div>

  <div class="card">
    <h2>Results</h2>
    <ul>
      {results.map((x) => <li>{x}</li>)}
    </ul>
  </div>

  <div class="card">
    <h2>Further improvements</h2>
    <ul>
      <li>Reduce flicker further by tuning scan timing / brightness control.</li>
      <li>Add adjustable rain speed and density for more variety.</li>
      <li>Add small effects (splashes / trails) while keeping frame timing stable.</li>
    </ul>
  </div>
</BaseLayout>
