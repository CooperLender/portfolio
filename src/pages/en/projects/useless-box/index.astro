---
import BaseLayout from "../../../../layouts/BaseLayout.astro";

const title = "Useless Box: Physical Control vs Arduino “Personalities”";
const subtitle =
  "Flip a switch ON and a finger pops out to turn it OFF—first implemented with purely physical/hardware control, then upgraded with Arduino-driven behaviors.";

const overview = {
  goal:
    "Build a reliable electromechanical mechanism that detects a user toggle and actuates a motorized finger to reset it—then explore how firmware changes the experience.",
  built:
    "A motor-driven finger mechanism inside a small enclosure. Version A uses hardware/physical logic (switches + motor drive). Version B uses an Arduino to implement multiple behavior ‘personalities’.",
  role:
    "Team project. I focused on electromechanical integration (wiring/soldering, switch alignment, motor direction control, reliability debugging) and helped implement/test the Arduino behavior variants.",
  tech:
    "Electromechanical design, limit switches, motor direction control, Arduino digital IO (INPUT_PULLUP), simple state machines, debugging bounce/timing edge cases.",
};

const howItWorks2A = [
  "User flips the toggle ON → motor drives forward and pushes a finger out to flip the toggle back OFF.",
  "After flipping, the motor retracts until a limit switch indicates the finger is fully home, then the motor stops.",
  "We debugged real-world issues like switch bounce and timing that can cause brief re-triggers.",
];

const howItWorks2B = [
  "Arduino reads the toggle switch and a limit switch (using internal pullups for stable inputs).",
  "When toggled ON, the motor drives forward; once the toggle is OFF, the motor reverses until the limit switch is hit, then stops.",
  "Firmware enables multiple ‘personalities’ by changing timing, pauses, and response behavior.",
];

const personalities = [
  "Basic: immediate reaction—flip OFF, retract to home, stop.",
  "Random delay: waits a randomized time before reacting to feel more ‘alive’.",
  "Slow/hesitant: introduces pauses/slow action to create personality.",
];

const highlights = [
  "Same mechanism, two control styles: hardware-only vs microcontroller (dramatically different UX).",
  "Designed around reliability issues (bounce, endstops, alignment) to make the mechanism consistent.",
  "Clean integration in a compact build: wiring, soldering, and mechanical alignment.",
];

const assets = {
  physical: "projects/useless-box/physical.jpg",
  digital: "projects/useless-box/digital.jpg",
  demo: "projects/useless-box/demo.mp4",
};
---

<BaseLayout title={`${title} | Cooper Lender`} lang="en">
  <a href="../../" class="muted">← Back</a>

  <h1>{title}</h1>
  <p class="muted">{subtitle}</p>

  <div class="card">
    <h2>Overview</h2>
    <ul>
      <li><strong>Goal:</strong> {overview.goal}</li>
      <li><strong>What I built:</strong> {overview.built}</li>
      <li><strong>My role:</strong> {overview.role}</li>
      <li><strong>Tech:</strong> {overview.tech}</li>
    </ul>
  </div>

  <div class="card">
    <h2>Version A: Physical / hardware control</h2>
    <ul>
      {howItWorks2A.map((x) => <li>{x}</li>)}
    </ul>

    <div class="muted" style="margin-top: 10px;">Physical version photo:</div>
    <img
      src={`${import.meta.env.BASE_URL}${assets.physical}`}
      alt="Useless box physical control version"
      loading="lazy"
      style="width:100%; border-radius:12px; margin-top:10px;"
    />
  </div>

  <div class="card">
    <h2>Version B: Arduino control + personalities</h2>
    <ul>
      {howItWorks2B.map((x) => <li>{x}</li>)}
    </ul>

    <h3 style="margin-top:14px;">Personalities </h3>
    <ul>
      {personalities.map((x) => <li>{x}</li>)}
    </ul>

    <div class="muted" style="margin-top: 10px;">Arduino/digital version photo:</div>
    <img
      src={`${import.meta.env.BASE_URL}${assets.digital}`}
      alt="Useless box Arduino-controlled version"
      loading="lazy"
      style="width:100%; border-radius:12px; margin-top:10px;"
    />

    <div class="muted" style="margin-top: 14px;">Demo video:</div>
    <video
      controls
      preload="metadata"
      style="width:100%; border-radius:12px; margin-top:10px;"
    >
      <source src={`${import.meta.env.BASE_URL}${assets.demo}`} type="video/mp4" />
      Sorry — your browser can’t play this video.
    </video>
  </div>

  <div class="card">
    <h2>Engineering Highlights</h2>
    <ul>
      {highlights.map((x) => <li>{x}</li>)}
    </ul>
  </div>

  <div class="card">
    <h2>What I’d Improve Next</h2>
    <ul>
      <li>Add stronger debouncing (mechanical + software) and timing guards for cleaner state transitions.</li>
      <li>Add current sensing / stall detection for safer motor endstop behavior.</li>
      <li>Design a small PCB for the motor driver + connectors for robustness and repeatability.</li>
    </ul>
  </div>
</BaseLayout>
